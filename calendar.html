<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ntrxi | calendar</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050505;
            --text: #ffffff;
            --border: #222222;
            --modal-bg: rgba(5, 5, 5, 0.95);
            --danger: #ff3b3b;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- Warning Modal --- */
        #warning-modal {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--modal-bg);
            display: flex; align-items: center; justify-content: center;
            z-index: 2000; backdrop-filter: blur(10px);
        }

        .modal-content { text-align: center; padding: 2rem; }
        .modal-content h2 { font-weight: 800; letter-spacing: 0.5rem; text-transform: uppercase; font-size: 1rem; }
        .modal-content p { font-size: 0.75rem; letter-spacing: 0.2rem; opacity: 0.6; text-transform: uppercase; margin: 1rem 0 2rem 0; }
        .close-hint { font-size: 0.6rem; letter-spacing: 0.4rem; opacity: 0.3; text-transform: uppercase; }

        /* --- Header --- */
        header { padding: 3rem 0; text-align: center; }
        .logo {
            font-size: 1.2rem; font-weight: 800; letter-spacing: 0.8rem; text-transform: uppercase;
            cursor: pointer; display: inline-block; transition: all 0.5s ease;
        }
        .logo:hover { transform: scale(1.2); letter-spacing: 1.2rem; text-shadow: 0 0 15px #fff; }

        /* --- Main Layout --- */
        main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 0 2rem 4rem; }
        
        h1 {
            font-size: 11rem; font-weight: 800; letter-spacing: -0.6rem;
            margin: 0; text-align: center; text-transform: uppercase;
        }

        .calendar-container {
            width: 100%; max-width: 900px; margin-top: 1rem;
        }

        .calendar-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem; border: 1px solid var(--border);
            text-transform: uppercase; letter-spacing: 0.3rem; font-size: 0.8rem;
        }

        .grid {
            display: grid; grid-template-columns: repeat(7, 1fr);
            border-left: 1px solid var(--border); border-top: 1px solid var(--border);
        }

        .day-label {
            padding: 1rem; border-right: 1px solid var(--border); border-bottom: 1px solid var(--border);
            text-align: center; font-size: 0.6rem; letter-spacing: 0.2rem; opacity: 0.3; text-transform: uppercase;
        }

        .cell {
            min-height: 100px; padding: 10px; border-right: 1px solid var(--border); border-bottom: 1px solid var(--border);
            transition: background 0.3s; cursor: pointer; position: relative;
        }

        .cell:hover { background: #0f0f0f; }
        .cell.today { background: #111; }
        .cell.today::after {
            content: ''; position: absolute; top: 5px; right: 5px; width: 4px; height: 4px; background: white; border-radius: 50%;
        }

        .date-num { font-size: 0.7rem; opacity: 0.5; font-weight: 800; pointer-events: none; }
        
        .event-item {
            font-size: 0.55rem; background: white; color: black; margin-top: 4px;
            padding: 4px 6px; text-transform: uppercase; font-weight: 800;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
            transition: all 0.2s ease;
        }

        /* Hover effect to signal deletion */
        .event-item:hover {
            background: var(--danger);
            color: white;
            text-decoration: line-through;
        }

        /* --- Footer --- */
        footer { padding: 3rem; text-align: center; font-size: 0.65rem; opacity: 0.3; letter-spacing: 0.3rem; }

        @media (max-width: 768px) {
            h1 { font-size: 4rem; letter-spacing: -0.2rem; }
            .cell { min-height: 60px; }
        }
    </style>
</head>
<body>

    <div id="warning-modal">
        <div class="modal-content">
            <h2>System Notice</h2>
            <p>Calendar events are stored locally. Clearing cache will wipe your schedule.</p>
            <div class="close-hint">Press [ X ] to acknowledge</div>
        </div>
    </div>

    <header><div class="logo">ntrxi</div></header>

    <main>
        <h1 id="month-name">January</h1>
        
        <div class="calendar-container">
            <div class="calendar-header">
                <span id="year-label">2026</span>
            </div>
            <div class="grid" id="calendar-grid">
                </div>
        </div>
    </main>

    <footer>NTRXI CHRONOS â€¢ SYSTEM v1.2</footer>

    <script>
        const modal = document.getElementById('warning-modal');
        const grid = document.getElementById('calendar-grid');
        const monthLabel = document.getElementById('month-name');
        
        // Modal Logic
        window.addEventListener('keydown', (e) => {
            if (e.key.toLowerCase() === 'x') modal.style.display = 'none';
        });

        // Data Storage
        let events = JSON.parse(localStorage.getItem('ntrxi_events')) || {};

        function initCalendar() {
            const now = new Date();
            const month = now.getMonth();
            const year = now.getFullYear();
            
            const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            monthLabel.textContent = monthNames[month];
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            // Clear grid
            grid.innerHTML = '';

            // Add Labels
            const days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
            days.forEach(day => {
                const label = document.createElement('div');
                label.className = 'day-label';
                label.textContent = day;
                grid.appendChild(label);
            });

            // Empty cells for padding
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                empty.className = 'cell';
                grid.appendChild(empty);
            }

            // Actual days
            for (let d = 1; d <= daysInMonth; d++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                if (d === now.getDate()) cell.classList.add('today');
                
                const dateId = `${year}-${month}-${d}`;
                cell.innerHTML = `<div class="date-num">${d}</div>`;
                
                // Render existing events
                if (events[dateId]) {
                    events[dateId].forEach((evText, index) => {
                        const eventDiv = document.createElement('div');
                        eventDiv.className = 'event-item';
                        eventDiv.textContent = evText;
                        
                        // DELETION LOGIC
                        eventDiv.onclick = (e) => {
                            e.stopPropagation(); // Prevent opening the "Add Event" prompt
                            if(confirm(`Delete "${evText}"?`)) {
                                deleteEvent(dateId, index);
                            }
                        };
                        
                        cell.appendChild(eventDiv);
                    });
                }

                // ADD LOGIC
                cell.onclick = () => addEvent(dateId);
                grid.appendChild(cell);
            }
        }

        function addEvent(dateId) {
            const val = prompt("Enter event for this day:");
            if (val) {
                if (!events[dateId]) events[dateId] = [];
                events[dateId].push(val);
                saveAndRender();
            }
        }

        function deleteEvent(dateId, index) {
            events[dateId].splice(index, 1);
            // Cleanup empty arrays to save space
            if(events[dateId].length === 0) delete events[dateId];
            saveAndRender();
        }

        function saveAndRender() {
            localStorage.setItem('ntrxi_events', JSON.stringify(events));
            initCalendar();
        }

        initCalendar();
    </script>
</body>
</html>
